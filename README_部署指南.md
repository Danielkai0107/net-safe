# ğŸš€ Safe-Net éƒ¨ç½²æŒ‡å—

> å®Œæ•´çš„éƒ¨ç½²æº–å‚™å·²å®Œæˆï¼é¸æ“‡æ‚¨å–œæ­¡çš„æ–¹å¼é–‹å§‹éƒ¨ç½²ã€‚

---

## ğŸ“š æ–‡æª”å°èˆª

### ğŸ¯ å¿«é€Ÿé–‹å§‹
- **[5åˆ†é˜å¿«é€Ÿéƒ¨ç½²](./QUICK_DEPLOY.md)** â­ æ¨è–¦æ–°æ‰‹
- **[éƒ¨ç½²ç¸½çµ](./éƒ¨ç½²ç¸½çµ.md)** - æŸ¥çœ‹æ‰€æœ‰æº–å‚™å·¥ä½œ

### ğŸ“– è©³ç´°æŒ‡å—
- **[Zeabur å®Œæ•´æŒ‡å—](./ZEABUR_DEPLOY_GUIDE.md)** â­ æ¨è–¦ä½¿ç”¨
- **[å¤šå¹³å°éƒ¨ç½²é¸é …](./DEPLOY_GUIDE.md)** - Railwayã€Renderã€Fly.ioã€VPS

### ğŸ› ï¸ é–‹ç™¼ç›¸é—œ
- **[æœ¬åœ°é–‹ç™¼å¿«é€Ÿé–‹å§‹](./QUICK_START.md)**
- **[Expo é–‹ç™¼æ¨¡å¼](./Expoé–‹ç™¼æ¨¡å¼ä½¿ç”¨æŒ‡å—.md)**
- **[æ•…éšœæ’é™¤](./TROUBLESHOOTING_STEPS.md)**

---

## âœ… å·²æº–å‚™å¥½çš„å…§å®¹

### 1. é…ç½®æ–‡ä»¶
- âœ… `apps/backend/zbpack.json` - å¾Œç«¯ Zeabur é…ç½®
- âœ… `apps/admin/zbpack.json` - å‰ç«¯ Zeabur é…ç½®
- âœ… `apps/backend/env.example.txt` - å¾Œç«¯ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
- âœ… `apps/admin/env.example.txt` - å‰ç«¯ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹
- âœ… `apps/mobile/src/config.production.ts` - App ç”Ÿç”¢é…ç½®

### 2. éƒ¨ç½²å·¥å…·ï¼ˆå·²æ·»åŠ åˆ° package.jsonï¼‰
```bash
# æª¢æŸ¥éƒ¨ç½²æº–å‚™
pnpm deploy:check

# ç”Ÿæˆå®‰å…¨å¯†é‘°
pnpm deploy:secrets

# æ›´æ–° App é…ç½®ï¼ˆéƒ¨ç½²å¾Œä½¿ç”¨ï¼‰
pnpm deploy:update-mobile <backend-url>
```

### 3. å®‰å…¨å¯†é‘°ï¼ˆå·²ç”Ÿæˆï¼‰
```env
JWT_SECRET=14bab22bbb66ef6c07d1c0d143d579542a74ce37bec4278e004c2844efa87bbd
JWT_APP_SECRET=7c0361ae0f37c6768e69a10a614076697945bacc422977f68a7bd0e2c18cb226
```

âš ï¸ **ç”Ÿç”¢ç’°å¢ƒå»ºè­°é‡æ–°ç”Ÿæˆå¯†é‘°**

---

## ğŸ¯ æ¨è–¦éƒ¨ç½²æ–¹æ¡ˆï¼šZeabur

### ç‚ºä»€éº¼é¸æ“‡ Zeaburï¼Ÿ

| å„ªé» | èªªæ˜ |
|------|------|
| ğŸ‡¹ğŸ‡¼ **ä¸­æ–‡ä»‹é¢** | å°ç£æœ¬åœ°æœå‹™ï¼Œæ”¯æ´è‰¯å¥½ |
| ğŸ’° **åƒ¹æ ¼åˆç†** | ç´„ $7/æœˆï¼ˆæ‰£é™¤å…è²»é¡åº¦ï¼‰ |
| âš¡ **éƒ¨ç½²å¿«é€Ÿ** | 5-10 åˆ†é˜å®Œæˆéƒ¨ç½² |
| ğŸ”„ **è‡ªå‹• CI/CD** | æ¨é€åˆ° GitHub è‡ªå‹•éƒ¨ç½² |
| ğŸš€ **ä¸æœƒä¼‘çœ ** | æ¯” Render å…è²»ç‰ˆç©©å®š |
| ğŸ“¦ **å®Œæ•´æ”¯æ´** | NestJS + PostgreSQL + éœæ…‹ç¶²ç«™ |

### å¿«é€Ÿéƒ¨ç½²æ­¥é©Ÿ

1. **åŸ·è¡Œæª¢æŸ¥**
   ```bash
   pnpm deploy:check
   ```

2. **æ¨é€åˆ° GitHub**
   ```bash
   git add .
   git commit -m "æº–å‚™éƒ¨ç½²"
   git push
   ```

3. **è¨ªå• Zeabur**
   - ç¶²å€ï¼šhttps://zeabur.com
   - ä½¿ç”¨ GitHub ç™»å…¥

4. **æŒ‰ç…§æŒ‡å—æ“ä½œ**
   - æŸ¥çœ‹ [ZEABUR_DEPLOY_GUIDE.md](./ZEABUR_DEPLOY_GUIDE.md)
   - æˆ– [QUICK_DEPLOY.md](./QUICK_DEPLOY.md)

---

## ğŸ“‹ éƒ¨ç½²æµç¨‹æ¦‚è¦½

```mermaid
graph TD
    A[æº–å‚™ä»£ç¢¼] --> B[æ¨é€åˆ° GitHub]
    B --> C[å‰µå»º Zeabur å°ˆæ¡ˆ]
    C --> D[éƒ¨ç½² PostgreSQL]
    D --> E[éƒ¨ç½²å¾Œç«¯ API]
    E --> F[è¨­å®šç’°å¢ƒè®Šæ•¸]
    F --> G[åŸ·è¡Œè³‡æ–™åº«é·ç§»]
    G --> H[éƒ¨ç½²ç®¡ç†å¾Œå°]
    H --> I[æ›´æ–° App é…ç½®]
    I --> J[æ¸¬è©¦ä¸¦ä¸Šç·š]
```

---

## ğŸ› ï¸ å¯¦ç”¨å‘½ä»¤

### éƒ¨ç½²å‰
```bash
# æª¢æŸ¥éƒ¨ç½²æº–å‚™
pnpm deploy:check

# ç”Ÿæˆæ–°å¯†é‘°
pnpm deploy:secrets

# æŸ¥çœ‹æœ¬æ©Ÿ IPï¼ˆé–‹ç™¼ç”¨ï¼‰
pnpm show-ip
```

### éƒ¨ç½²å¾Œ
```bash
# æ›´æ–° App çš„ API URL
pnpm deploy:update-mobile https://your-backend.zeabur.app

# æ¸¬è©¦å¾Œç«¯ API
curl https://your-backend.zeabur.app/api/health

# æ¸¬è©¦ç™»å…¥
curl -X POST https://your-backend.zeabur.app/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@safenet.com","password":"admin123456"}'
```

### æœ¬åœ°é–‹ç™¼
```bash
# å•Ÿå‹•æ‰€æœ‰æœå‹™
pnpm dev

# å–®ç¨å•Ÿå‹•
cd apps/backend && pnpm dev    # å¾Œç«¯
cd apps/admin && pnpm dev      # ç®¡ç†å¾Œå°
cd apps/mobile && npx expo start  # ç§»å‹• App

# è³‡æ–™åº«æ“ä½œ
pnpm db:migrate  # åŸ·è¡Œé·ç§»
pnpm db:seed     # å¡«å……æ¸¬è©¦æ•¸æ“š
pnpm db:studio   # æ‰“é–‹ Prisma Studio
```

---

## ğŸ” é è¨­å¸³è™Ÿ

### ç®¡ç†å¾Œå°
- **Email**: `admin@safenet.com`
- **Password**: `admin123456`

### App æ¸¬è©¦å¸³è™Ÿ
- **æ‰‹æ©Ÿ**: `0912345678`
- **å¯†ç¢¼**: `password123`

âš ï¸ **éƒ¨ç½²å¾Œè«‹ç«‹å³æ›´æ”¹æ‰€æœ‰é è¨­å¯†ç¢¼ï¼**

---

## ğŸ’° è²»ç”¨é ä¼°

### Zeaburï¼ˆæ¨è–¦ï¼‰
| æœå‹™ | æœˆè²» |
|------|------|
| PostgreSQL | ~$5 |
| å¾Œç«¯ API | ~$5 |
| ç®¡ç†å¾Œå° | ~$2 |
| **å°è¨ˆ** | **$12** |
| å…è²»é¡åº¦ | -$5 |
| **å¯¦ä»˜** | **~$7** |

### å…¶ä»–é¸é …
- **Railway**: ~$5-10/æœˆ
- **Render**: å…è²»ï¼ˆæœ‰é™åˆ¶ï¼‰æˆ– $7+/æœˆ
- **VPS**: $3.5-10/æœˆï¼ˆéœ€è‡ªè¡Œç¶­è­·ï¼‰

---

## ğŸ“Š å°ˆæ¡ˆæ¶æ§‹

```
safe-net/
â”œâ”€â”€ apps/
â”‚   â”œâ”€â”€ backend/          # NestJS API å¾Œç«¯
â”‚   â”‚   â”œâ”€â”€ zbpack.json   # Zeabur é…ç½® âœ…
â”‚   â”‚   â””â”€â”€ env.example.txt  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹ âœ…
â”‚   â”œâ”€â”€ admin/            # React ç®¡ç†å¾Œå°
â”‚   â”‚   â”œâ”€â”€ zbpack.json   # Zeabur é…ç½® âœ…
â”‚   â”‚   â””â”€â”€ env.example.txt  # ç’°å¢ƒè®Šæ•¸ç¯„ä¾‹ âœ…
â”‚   â””â”€â”€ mobile/           # React Native App
â”‚       â””â”€â”€ src/
â”‚           â”œâ”€â”€ config.local.ts      # æœ¬åœ°é–‹ç™¼é…ç½®
â”‚           â””â”€â”€ config.production.ts # ç”Ÿç”¢ç’°å¢ƒé…ç½® âœ…
â”œâ”€â”€ packages/
â”‚   â””â”€â”€ database/         # Prisma è³‡æ–™åº«
â”‚       â””â”€â”€ prisma/
â”‚           â””â”€â”€ schema.prisma
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ deploy-check.js         # éƒ¨ç½²æª¢æŸ¥ âœ…
â”‚   â”œâ”€â”€ generate-secrets.js     # å¯†é‘°ç”Ÿæˆ âœ…
â”‚   â””â”€â”€ update-mobile-config.js # é…ç½®æ›´æ–° âœ…
â””â”€â”€ éƒ¨ç½²æ–‡æª”/
    â”œâ”€â”€ ZEABUR_DEPLOY_GUIDE.md  # Zeabur è©³ç´°æŒ‡å— âœ…
    â”œâ”€â”€ QUICK_DEPLOY.md         # å¿«é€Ÿéƒ¨ç½² âœ…
    â”œâ”€â”€ DEPLOY_GUIDE.md         # å¤šå¹³å°é¸é … âœ…
    â””â”€â”€ éƒ¨ç½²ç¸½çµ.md              # ç¸½çµæ–‡æª” âœ…
```

---

## ğŸ¯ éƒ¨ç½²æª¢æŸ¥æ¸…å–®

### æº–å‚™éšæ®µ
- [ ] åŸ·è¡Œ `pnpm deploy:check` é€šé
- [ ] ä»£ç¢¼å·²æ¨é€åˆ° GitHub
- [ ] å·²æº–å‚™ç’°å¢ƒè®Šæ•¸

### Zeabur éƒ¨ç½²
- [ ] å‰µå»º Zeabur å¸³è™Ÿå’Œå°ˆæ¡ˆ
- [ ] PostgreSQL å·²éƒ¨ç½²
- [ ] å¾Œç«¯ API å·²éƒ¨ç½²ä¸¦è¨­å®šç’°å¢ƒè®Šæ•¸
- [ ] åŸ·è¡Œè³‡æ–™åº«é·ç§»
- [ ] åŸ·è¡Œç¨®å­æ•¸æ“š
- [ ] ç®¡ç†å¾Œå°å·²éƒ¨ç½²
- [ ] æ¸¬è©¦ API é€£æ¥

### App æ›´æ–°
- [ ] æ›´æ–° `config.production.ts`
- [ ] æ¸¬è©¦ App é€£æ¥
- [ ] é‡æ–°å»ºç½® App

### å®‰å…¨æ€§
- [ ] æ›´æ”¹é è¨­ç®¡ç†å“¡å¯†ç¢¼
- [ ] æ›´æ”¹ JWT å¯†é‘°ï¼ˆç”Ÿç”¢ç’°å¢ƒï¼‰
- [ ] è¨­å®š CORS é™åˆ¶
- [ ] å•Ÿç”¨ç›£æ§å‘Šè­¦

---

## â“ å¸¸è¦‹å•é¡Œ

### Q: æˆ‘å®Œå…¨æ²’æœ‰éƒ¨ç½²ç¶“é©—ï¼Œæ‡‰è©²å¾å“ªè£¡é–‹å§‹ï¼Ÿ

**å»ºè­°æ­¥é©Ÿï¼š**
1. å…ˆé–±è®€ [QUICK_DEPLOY.md](./QUICK_DEPLOY.md)ï¼ˆ5 åˆ†é˜äº†è§£æµç¨‹ï¼‰
2. åŸ·è¡Œ `pnpm deploy:check` ç¢ºèªæº–å‚™å°±ç·’
3. æŒ‰ç…§ [ZEABUR_DEPLOY_GUIDE.md](./ZEABUR_DEPLOY_GUIDE.md) ä¸€æ­¥æ­¥æ“ä½œ
4. é‡åˆ°å•é¡ŒæŸ¥çœ‹æ–‡æª”ä¸­çš„ã€Œå¸¸è¦‹å•é¡Œã€ç« ç¯€

### Q: Zeabur å’Œ Railway å“ªå€‹å¥½ï¼Ÿ

**Zeabur å„ªå‹¢ï¼š**
- âœ… ä¸­æ–‡ä»‹é¢ï¼ˆå¦‚æœæ‚¨åœ¨å°ç£ï¼‰
- âœ… åƒ¹æ ¼ç¨ä¾¿å®œ
- âœ… éƒ¨ç½²é€Ÿåº¦å¿«

**Railway å„ªå‹¢ï¼š**
- âœ… æ›´æˆç†Ÿçš„å¹³å°
- âœ… æ–‡æª”æ›´å®Œæ•´
- âœ… ç¤¾ç¾¤æ›´å¤§

**å»ºè­°**ï¼šå¦‚æœæ‚¨åœ¨å°ç£ä¸”é‡è¦–ä¸­æ–‡æ”¯æ´ï¼Œé¸ Zeaburã€‚

### Q: å¯ä»¥å…ˆå…è²»æ¸¬è©¦å—ï¼Ÿ

å¯ä»¥ï¼Zeabur æä¾› $5 å…è²»é¡åº¦ï¼Œè¶³å¤ æ¸¬è©¦å¹¾å¤©ã€‚

### Q: éƒ¨ç½²å¤±æ•—æ€éº¼è¾¦ï¼Ÿ

1. æŸ¥çœ‹ Zeabur Dashboard çš„éƒ¨ç½²æ—¥èªŒ
2. æª¢æŸ¥ç’°å¢ƒè®Šæ•¸æ˜¯å¦æ­£ç¢ºè¨­å®š
3. ç¢ºèª `DATABASE_URL` è¨­å®šç‚º `${POSTGRES_URL}`
4. æŸ¥çœ‹ [ZEABUR_DEPLOY_GUIDE.md](./ZEABUR_DEPLOY_GUIDE.md) çš„æ•…éšœæ’é™¤ç« ç¯€

### Q: å¦‚ä½•æ›´æ–°å·²éƒ¨ç½²çš„æ‡‰ç”¨ï¼Ÿ

```bash
# æ¨é€åˆ° GitHub å³å¯è‡ªå‹•éƒ¨ç½²
git add .
git commit -m "æ›´æ–°åŠŸèƒ½"
git push
```

Zeabur æœƒè‡ªå‹•åµæ¸¬ä¸¦é‡æ–°éƒ¨ç½²ï¼ˆç´„ 3-5 åˆ†é˜ï¼‰ã€‚

---

## ğŸ“ ç²å–å¹«åŠ©

### å°ˆæ¡ˆæ–‡æª”
- ğŸ“– [å®Œæ•´ API æ–‡æª”](./COMPLETE_API_REFERENCE.md)
- ğŸ”§ [æ•…éšœæ’é™¤](./TROUBLESHOOTING_STEPS.md)
- ğŸ“± [App é–‹ç™¼æŒ‡å—](./MOBILE_APP_QUICK_START.md)

### å¤–éƒ¨è³‡æº
- ğŸŒ [Zeabur å®˜æ–¹æ–‡æª”](https://zeabur.com/docs)
- ğŸ’¬ [Zeabur Discord](https://discord.gg/zeabur)
- ğŸ“§ Zeabur æ”¯æ´ï¼šsupport@zeabur.com

---

## ğŸ‰ æº–å‚™å°±ç·’ï¼

æ‰€æœ‰éƒ¨ç½²æº–å‚™å·¥ä½œå·²å®Œæˆï¼ç¾åœ¨æ‚¨å¯ä»¥ï¼š

### é¸é … 1ï¼šç«‹å³é–‹å§‹éƒ¨ç½²ï¼ˆæ¨è–¦ï¼‰
```bash
# 1. åŸ·è¡Œæª¢æŸ¥
pnpm deploy:check

# 2. æ¨é€åˆ° GitHub
git add .
git commit -m "æº–å‚™éƒ¨ç½²åˆ° Zeabur"
git push

# 3. è¨ªå• Zeabur
open https://zeabur.com
```

### é¸é … 2ï¼šå…ˆé–±è®€æ–‡æª”
- ğŸ“– [å¿«é€Ÿéƒ¨ç½²æŒ‡å—](./QUICK_DEPLOY.md)
- ğŸ“– [Zeabur å®Œæ•´æŒ‡å—](./ZEABUR_DEPLOY_GUIDE.md)

### é¸é … 3ï¼šç¹¼çºŒæœ¬åœ°é–‹ç™¼
```bash
# å•Ÿå‹•é–‹ç™¼ç’°å¢ƒ
pnpm dev
```

---

**ç¥æ‚¨éƒ¨ç½²é †åˆ©ï¼** ğŸš€

æœ‰ä»»ä½•å•é¡Œï¼Œè«‹æŸ¥çœ‹ç›¸é—œæ–‡æª”æˆ–è¯ç¹«æ”¯æ´ã€‚
